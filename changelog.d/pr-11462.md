---
synopsis: Use `text` package to decode UTF-8 instead of doing it ourselves
packages: [Cabal-syntax]
prs: 11462
---

Cabal used to decode and encode UTF-8 from `[Word8]` to `String` and back itself. The code to do it was reasonably complex, requiring expertise outside of Cabal main domain, and likely slow. Now we outsource UTF-8 matters to the `text` package.

As a result `Distribution.Utils.String` no longer exports and `Distribution.Utils.ShortText` no longer re-exports `decodeStringUtf8` and `encodeStringUtf8`. Use `Data.Text.Encoding` instead.
